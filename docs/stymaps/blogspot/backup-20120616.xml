<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html expr:dir='data:blog.languageDirection' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>

<head>

<meta content='Drawing, Processing, Seeing, Hearing, Loving, Knowing, Playing, Design, Archetypes, Sound, Symmetry, The Symmetries of Things, john horton conway, Media, Yoga, Five Bodied, Deoxy, DMT, Mushrooms, OSGrid, OpenSim, OpenSimulator, Second Life, Perspective, Psychedelic, Reality Tunnel, Saliva Divinorum, Salvinorin-A, Processing.js, Terence McKenna, Bob Dobbs, Ion, Power, Truth, Space-time, Music, Love, Perception, Apperception, Unconscious, Consciousness, Tetrad, Marshall McLuhan, James Joyce, Jimi Hendrix, Revlin' name='keywords'/>
<meta content='The Stylogical Map - A presentation of various works-in-progress, exploring the omni-media vortex of space, time, love, and perception.' name='description'/>

<b:include data='blog' name='all-head-content'/>
<title><data:blog.pageTitle/></title>
<b:skin><![CDATA[]]></b:skin>

<style type='text/css'>/*[CDATA[*/
/*-----------------------------------------------
Blogger Template Style
Name:     Minima Black
Designer: Douglas Bowman
URL:      www.stopdesign.com
Date:     26 Feb 2004
Updated by: Blogger Team w/Many additional...
Updates by: Revlin John - stylogicalmaps@gmail.com
(Note: The rules under my comment are only a portion
of the total edits I&#39;ve made to this stylesheet
- Rev)
----------------------------------------------- */

body {
  background:#000000;
  margin:0;
  color:#cccccc;
  font: x-small &quot;Trebuchet MS&quot;, Trebuchet, Verdana, Sans-serif;
  font-size/* */:/**/small;
  font-size: /**/small;
  text-align: center;
}

body p , body span {
  margin:0;
  color:#cccccc;
  font: x-small &quot;Trebuchet MS&quot;, Trebuchet, Verdana, Sans-serif;
  font-size/* */:/**/small;
  font-size: /**/small;
  text-align: left;
}

a:link {
  color:#cccccc;
  text-decoration:none;
}
a:visited {
  color:#cccccc;
  text-decoration:none;
}
a:hover {
  color:#02CFA9;
  text-decoration:underline;
}
a img {
  border-width:0;
}

/* Header
-----------------------------------------------*/

#header-wrapper {
  width:768px;
  border:1px solid #333333;
}
#header-inner {
  margin-left: auto;
  margin-right: auto;
}
#header {
  margin: 5px;
  border: 1px solid #333333;
  color:#cccccc;
}
#header h1 {
  margin:5px 5px 0;
  padding:15px 20px .25em;
  line-height:1.2em;
  text-transform:uppercase;
  letter-spacing:.2em;
  font: normal bold 200% &#39;Trebuchet MS&#39;,Trebuchet,Verdana,Sans-serif;
}
#header a {
  color:#cccccc;
  text-decoration:none;
}
#header a:hover {
  color:#cccccc;
}
#header .description {
  margin:0 5px 5px;
  padding:0 20px 15px;
  max-width:700px;
  text-transform:uppercase;
  letter-spacing:.2em;
  line-height: 1.4em;
  font: normal normal 78% &#39;Trebuchet MS&#39;, Trebuchet, Verdana, Sans-serif;
  color: #777777;
}
#header img {
  margin-left: auto;
  margin-right: auto;
}

/* Outer-Wrapper
----------------------------------------------- */

#PageList1 {
  margin:0 auto;
  text-align: center;
}
#PageList2 {
  margin:0 auto;
  text-align: center;
}
#outer-wrapper {
  width: 768px;
  position: relative;
  margin:-10px auto auto auto;
  padding:1%;
  text-align:left;
  font: normal normal 100% &#39;Trebuchet MS&#39;,Trebuchet,Verdana,Sans-serif;
}
#main-wrapper {
  width: 768px;
  float: left;
  word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
  overflow: hidden;    /* fix for long non-text content breaking IE sidebar float */
}
#sidebar-wrapper {
  width: 0px;
  float: right;
  word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
  overflow: hidden;     /* fix for long non-text content breaking IE sidebar float */
}

/* Headings
----------------------------------------------- */

h2 {
  margin:1.5em 0 .75em;
  font:normal bold 78% &#39;Trebuchet MS&#39;,Trebuchet,Arial,Verdana,Sans-serif;
  line-height: 1.4em;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#777777;
}

h4 {
  font-size: 130%;
}
h5 {
  font-size: 123%;
}

/* Posts
-----------------------------------------------*/

h2.date-header {
  margin:1.5em 0 .5em;
}

.post {
  max-width:640px;
  margin:.5em 0 1.5em auto;
  border-bottom:1px dotted #333333;
  padding-bottom:1.5em;
}
.post h3 {
  margin:.25em 0 0;
  padding:0 0 4px;
  font-size:140%;
  font-weight:normal;
  line-height:1.4em;
  text-align:center;
  color:#02CFA9;
}
.post h3 a, .post h3 a:visited, .post h3 strong {
  display:block;
  text-decoration:none;
  color:#02CFA9;
  font-weight:bold;
}
.post h3 strong, .post h3 a:hover {
  color:#cccccc;
}
.post-body {
  margin:0 0 .75em;
  line-height:1.6em;
}
.post-body blockquote {
  line-height:1.3em;
}
.post-footer {
  margin: .75em 0;
  color:#777777;
  text-transform:uppercase;
  letter-spacing:.1em;
  font: normal normal 78% &#39;Trebuchet MS&#39;, Trebuchet, Arial, Verdana, Sans-serif;
  line-height: 1.4em;
}
.comment-link {
  margin-left:.6em;
}
.post img {
  padding:4px;
  border:1px solid #333333;
}
.post blockquote {
  margin:1em 20px;
}
.post blockquote p {
  margin:.75em 0;
}

/* Comments
----------------------------------------------- */

#comments h4 {
  margin:1em 0;
  font-weight: bold;
  line-height: 1.4em;
  text-transform:uppercase;
  letter-spacing:.2em;
  color: #777777;
}
#comments-block {
  margin:1em 0 1.5em;
  line-height:1.6em;
}
#comments-block .comment-author {
  margin:.5em 0;
}
#comments-block .comment-body {
  margin:.25em 0 0;
}
#comments-block .comment-footer {
  margin:-.25em 0 2em;
  line-height: 1.4em;
  text-transform:uppercase;
  letter-spacing:.1em;
}
#comments-block .comment-body p {
  margin:0 0 .75em;
}
.deleted-comment {
  font-style:italic;
  color:gray;
}
.feed-links {
  clear: both;
  line-height: 2.5em;
}
#blog-pager-newer-link {
  float: left;
}
#blog-pager-older-link {
  float: right;
}
#blog-pager {
  text-align: center;
}
/* Sidebar Content
----------------------------------------------- */

.sidebar {
  color: #999999;
  line-height: 1.5em;
}
.sidebar ul {
  list-style:none;
  margin:0 0 0;
  padding:0 0 0;
}
.sidebar li {
  margin:0;
  padding-top:0;
  padding-right:0;
  padding-bottom:.25em;
  padding-left:15px;
  text-indent:-15px;
  line-height:1.5em;
}
.sidebar .widget, .main .widget {
  border-bottom:1px dotted #333333;
  margin:0 0 1.5em;
  padding:0 0 1.5em;
}
.main .Blog {
  border-bottom-width: 0;
}
/* Profile
----------------------------------------------- */

.profile-img {
  float: left;
  margin-top: 0;
  margin-right: 5px;
  margin-bottom: 5px;
  margin-left: 0;
  padding: 4px;
  border: 1px solid #333333;
}
.profile-data {
  margin:0;
  text-transform:uppercase;
  letter-spacing:.1em;
  font: normal normal 78% &#39;Trebuchet MS&#39;, Trebuchet, Arial, Verdana, Sans-serif;
  color: #777777;
  font-weight: bold;
  line-height: 1.6em;
}
.profile-datablock {
  margin:.5em 0 .5em;
}
.profile-textblock {
  margin: 0.5em 0;
  line-height: 1.6em;
}
.profile-link {
  font: normal normal 78% &#39;Trebuchet MS&#39;, Trebuchet, Arial, Verdana, Sans-serif;
  text-transform: uppercase;
  letter-spacing: .1em;
}
/* Footer
----------------------------------------------- */

#footer {
  width:806px;
  clear:both;
  margin:0 auto;
  padding-top:15px;
  line-height: 1.6em;
  text-transform:uppercase;
  letter-spacing:.1em;
  text-align: center;
}

/* Rev&#39;s CSS adds
----------------------------------------------- */

div#navbar {
  display: none;
}

div#content-wrapper{
  position: relative;
}

div#crosscol-wrapper{
  position: relative;
}

div.widget-content{
  position: relative;
}

div#header-links {
  display: block;
  position: absolute;
  margin-top: 0px;
  width:768px;
  min-width:768px;
  max-width:768px;
  text-align: center;
}

div#player {
  display:inline;
}

div#header-canvas {
  display: block;
  width: 768px;
  height-min: 432px;
  margin: -1px;
  border-left: 1px solid #fff;
  border-right: 1px solid #fff;
  overflow:hidden;
}

span.title {
  display:block;
  text-decoration:none;
  color:#02CFA9;
  font-weight:bold;
}

canvas#can23 {
  display: none;
  position:relative;
  margin-left: 0;
  opacity:0.0; filter:alpha(opacity=0);
}

canvas#cv {
  display: block;
  width: 768px;
  height: 432px;
  position:relative;
  margin-left: 0;
}

#canvas_iframe {
  display: block;
  width: 768px;
  height: 432px;
  position:relative;
  margin-left: 0;
}

#main {
  display: block;
  width: 644px;
  overflow: hidden;
  position: relative;
  margin-left: 60px;
  /* margin-top: -240px; */
  text-align: left;
}

#scroll-head {
  width: 644px;
  max-width: 644px;
  overflow: hidden;
}

#postnavlinks {
  position: relative;
  margin-top: -28px;
  max-width: 672px;
  margin-left: 48px;
}

#postnavlinks * a {
  color:#02CFA9;
  font-weight: bold;
  font-size: 2em;
}

a.home-link {
  text-align:center;
}

a.home-link:link, a.home-link:visited, a.home-link:hover {
  color:#cccccc;
  text-decoration:none;
}

p.menulinkleft {
  display:inline;
  float:left;
  text-align:left;
}
p.menulinkright {
  display:inline;
  float:right;
  text-align:right;
}

p.menulinkleft a, p.menulinkright a {
  text-decoration:none;
}

div#player p {
  display: inline;
  font-variant: small-caps;
}

div#player p a {
  color: #02CFA9;
  font-variant: inherit;
}

div.no_html5 {
  margin-left:0;
  margin-right:0;
  background-color:#4a5;
}

div#hotkeys {
  margin-top:0;
  padding-top:0;
}

div#hotkeys * {
  margin-top:0;
  margin-bottom:0;
  padding-top:0;
}

#greader {
  max-width:768px;
  height:480px;
}

div.production div {
  width: 612px;
  margin-top: -1%;
  margin-left: 2%;
  border-top: 1px solid #fff;
}

span.rx-label {
  color:#cccccc;
  font: x-small &quot;Trebuchet MS&quot;, Trebuchet, Verdana, Sans-serif;
  font-size/* */:/**/small;
  font-size: /**/small;
  text-align: center;
}
/*]]*/</style>

<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js'/>
<script src='http://universalsoldier.ca/jsgif/LZWEncoder.js' type='text/javascript'/>
<script src='http://universalsoldier.ca/jsgif/NeuQuant.js' type='text/javascript'/>
<script src='http://universalsoldier.ca/jsgif/GIFEncoder.js' type='text/javascript'/>
<script src='http://universalsoldier.ca/jsgif/b64.js' type='text/javascript'/>

<!-- Page Init Scripts -->
<script language='javascript' type='text/javascript'> //<![CDATA[
var canvasApp = setTimeout;
var drawLoop = setInterval;
var encoded = false;
var encoder = new GIFEncoder();
encoder.setRepeat(0);   //0  -> loop forever
                        //1+ -> loop n times then stop
encoder.setDelay(100);  //go to next frame every n milliseconds
encoder.start();
var gif_time = 32;

/* Debugger Function */
var Debugger = function Debugger() {};
Debugger.log = function (message) {
    try {
      console.log(message);
    } catch (e) {
      //alert(message);
    }
  };

/* Onload: */

$(function () {
if (typeof window.addEventListener === 'function') {
  window.addEventListener("load", function init_page() {

    /* Move post content to header section */
    var header_content = $('#header-canvas')[0];
    Debugger.log(header_content);
    if (header_content != null) {
      var main_content = $('#main')[0];
      header_content.appendChild(main_content);
      if (processing === 'undefined') {
        $("#main").css("marginTop","-240px");
      }
    }

    setTimeout(canvasApp,60);

    /* Initialize scroller object */
    post_scroller = post_scroller.init('.post-title, .entry-title','.post-body, .entry-content');

    /* Start track if there is one*/
    setTimeout(function () {
      try {
        if (!check_playSong("invisible10")) {
          //alert("track did not start");
        } else {
          $("a","#player").attr({"href":"javascript:playerPause()",
                       "style":"font-variant:inherit"})[0].innerHTML = "PAUSE";
        }
      } catch (e) {}
    }, 120);
  }, false);
}
});

canvasApp = function canvasApp () {
  var time = 0;

  /* Get canvas properties */
  var canvas = $("canvas#cv")[0];
  var can23;
  if (processing !== 'undefined') {
    can23 = $("canvas#can23").css({marginTop: "-428px", marginLeft: "192px",display: "block"}).insertAfter(canvas)[0];
  }

  // Polygon properties
  var triP = [3, 50, 70, 50];
  var triV = [0, 3, 3];

  /* Draw main function */
  var draw = function draw(ctx,w,h,v) {
      var t = time%32;

      ctx.globalAlpha = 1.0;
      //Draw video input
      if (typeof v !== 'undefined' && typeof v.length === 'number') {
        drawVideo(v, ctx, 0, 0, w, h);
      }

      if (processing === 'undefined') {
        
        if (time < 3000){
          ctx.lineWidth = 2;
          ctx.strokeStyle = "#fff";
          ctx.font = "bold 52px Verdana";
          var p = time;
          if (p > 256) p = 32;
          ctx.strokeText("The Stylogical Map", 272-8*p, 128);
          ctx.font = "normal 16px Verdana";
          ctx.fillStyle = "#000";
          ctx.fillText("A presentation of various works-in-progress,", 272, 514 - 2*time);
          ctx.fillText("exploring the omni-media vortex of space,", 294, 530 - 2*time);
          ctx.fillText("time, love, and perception.", 328, 546 - 2*time);
          ctx.fillStyle = "#fff";
          ctx.fillText("A presentation of various works-in-progress,", 270, 512 - 2*time);
          ctx.fillText("exploring the omni-media vortex of space,", 292, 528 - 2*time);
          ctx.fillText("time, love, and perception.", 326, 544 - 2*time);
          ctx.globalAlpha = 0.1;
        }

        //Set graphic properties
        ctx.fillStyle = "#ccc";
        ctx.strokeStyle = "#fff";
        ctx.lineWidth = 5;

        /*Triangle
          var triR = (triP[0]-1)*triP[3]/triP[0];
          if ((triP[1] > (w-triR)) || (triP[1] < triR)) {
            triV[1] = -triV[1];
          }
          if ((triP[2] > (h-triR)) || (triP[2] < triR)) {
          triV[2] = -triV[2];
          }
          if (time > 359){
            triP[1] += triV[1];
            triP[2] += triV[2];
          }
          polygon(ctx, triP[0], triP[1], triP[2], triP[3], time/triV[2], true, "first");
          //square within triangle
          polygon(ctx, 4, triP[1], triP[2], (triR-10), time/triV[2], false, "last");
        */

      } else if (vdrawing === false) {
        //ctx.globalAlpha = 0.5;
        ctx.drawImage(can23, 0, 0, canvas.width, canvas.height);
        ctx.lineWidth = 2;
        ctx.strokeStyle = "#fff";
        ctx.font = "bold 52px Verdana";
        ctx.strokeText("The Stylogical Map", 24, 128);
        
        Debugger.log("GIF record time is: "+ gif_time);
        if (gif_time < 30) {
          if (time%6 == 0) {
            encoder.addFrame(ctx);
            Debugger.log("Adding frame");
            //encodeFrames(cv);
          }
        } else if ((!encoded) && (gif_time < 31)) {
          encoder.finish();
          var binary_gif = encoder.stream().getData() //notice this is different from the as3gif package!
          var data_url = 'data:image/gif;base64,'+encode64(binary_gif);
          Debugger.log("GIF complete");
          Debugger.log(data_url);
          $("#license").after("<img src=\'"+ data_url +"\' width='768' height='432'/>");
          window.open(data_url);
          //encodeFrames(null);
          encoded = true;
        } else if (gif_time == 32) {
          encoded = false;
        }
      }
      if (gif_time < 32) {
        gif_time += 1;
      } else if (gif_time > 32) {
        gif_time = 32;
      }

      time += 1;
      if (time == "undefined") {
        time = 0;
      }
  };

  /* Draw polygons */
  function polygon(c, n, x, y, r, angle, counterclockwise, order) {
    var order = order || null;
    if (order === (null || "first")) {
      c.beginPath();
    }
    var angle = angle || 0;
    var counterclockwise = counterclockwise || false;
    //Compute vertex position and begin a subpath there
    c.moveTo(x + r*Math.sin(angle),
             y - r*Math.cos(angle));
    var delta = 2*Math.PI/n;
    //For remaining verts,
    for (var i=1; i < n; i++) {
      //compute angle of this vertex,
      angle += counterclockwise ? -delta : delta;
      //then compute position of vertex and add line
      c.lineTo(x + r*Math.sin(angle),
               y - r*Math.cos(angle));
    }
    //Connect last vertex back to first
    c.closePath();
    
    if (order === (null || "last")) {
      //Fill the poly
      c.fill();
      //Outline the poly
      c.stroke();
    }
  }

  /* Begin draw loop */
  try {
    var context = canvas.getContext('2d');
    var videos = $('video').toArray();
    var numVids = videos.length;
    drawLoop = setInterval(draw,33,context,canvas.width,canvas.height,videos);
    Debugger.log("Draw loop started");
  } catch(e) {
    Debugger.log("drawLoop failed to start");
    return;
  }
};

//]]> </script>

<!-- Explorer Code -->
<!--[if lt IE 9.0]>
<script type='text/javascript'>
var icanvas;
var vframe;

window.onload = function init_page() {

  if (typeof document.getElementById("cv").getContext !== "function") {
    vframe = $('iframe', "#vid1")[0];
    icanvas = $('#canvas_iframe')[0];
    if (vframe !== "null") {
      setTimeout(function() {
        icanvas.src = vframe.src;
      }, 103000);
    }
  }

  $("div#player").remove();

};

</script>
<![endif]-->

<!-- Processing.js Header -->
<script language='javascript' type='text/javascript'> //<![CDATA[
/* Processing Initializer:
* Swiped from https://github.com/annasob/processing-js
* This code searches for all the <script type="application/processing" target="canvasid">
* in your page and loads each script in the target canvas with the proper id.
* It is useful to smooth the process of adding Processing code in your page and starting
* the Processing.js engine.
*/

var processing = {};
processing = 'undefined';

function init_processing() {
  if (typeof window.addEventListener === 'function') {
    window.addEventListener("load", function() {
      var scripts = document.getElementsByTagName("script");
      var canvasArray = Array.prototype.slice.call(document.getElementsByTagName("canvas"));
      var canvas;
      for (var i = 0, j = 0; i < scripts.length; i++) {
        if (scripts[i].type == "application/processing") {
          var src = scripts[i].getAttribute("target");
          if (src && src.indexOf("#") > -1) {
            canvas = document.getElementById(src.substr(src.indexOf("#") + 1));
            if (canvas) {
              processing = new Processing(canvas, scripts[i].text);
              for (var k = 0; k< canvasArray.length; k++)
              {
                if (canvasArray[k] === canvas) {
                  // remove the canvas from the array so we dont override it in the else
                  canvasArray.splice(k,1);
                }
              }
            }
          } else {
            if (canvasArray.length >= j) {
              processing = new Processing(canvasArray[j], scripts[i].text);
            }
            j++;
          }
        }
      }
    }, false);
  }
}
//]]> </script>

<!-- Simple Video controls -->
<script language='javascript' type='text/javascript'> //<![CDATA[

var curr_vid = '';
var rx = 3;
var ry = 2;
var volume = 1.0;
var vdrawing = false;

function pause_video(video_id) {
  var videoA = document.getElementById(video_id);
  if (typeof videoA.pause === "function") {
    curr_vid = videoA.id;
    var vol = videoA.volume;
    vPause = setInterval(function() {
        try {
          videoA.volume = vol;
        } catch (err) {}
        if (vol > 0.0001) {
          vol -= 0.001;
          if (vol > 0.02) {
            vol -= 0.01
          }
        } else {
          videoA.volume = 0;
          if (typeof videoA.pause === "function") {
            if (processing !== 'undefined') {
              processing.loop();
            }
            videoA.pause();
            vdrawing = false;
          }
          clearInterval(vPause);
        }
      }, 33);
  }
}

var loop_video = function (video_id, loop) {
  volume_video(video_id, 1.0);
  var videoA = document.getElementById(video_id);
  var bloop = loop;
  try {
    if(curr_vid !== video_id) {
      var videoB = document.getElementById(curr_vid);
      if (typeof videoB.pause === "function") {
        videoB.pause();
     }
    }
  } catch(err) {}
  if (typeof videoA.play === "function") {
    curr_vid = videoA.id;
    videoA.volume = 0.0;
    var vol = 0.0001;
    vResume = setInterval(function() {
        try {
          videoA.volume = vol;
        } catch (err) {}
        if (vol < volume) {
          vol *= 2;
        } else {
          clearInterval(vResume);
        }
      }, 66);
    videoA.play();
    videoA.addEventListener('ended', function(){
      if (bloop !== 'true') {
        this.volume = 0;
        resumeSong();
        $("a","#player").attr({"href":"javascript:playerPause()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PAUSE";
      }
      this.currentTime = 0;
    }, false);
    if (processing !== 'undefined') {
      processing.noLoop();
    }
  }
};

var loop_AB = function (video_id, t1, t2) {
  volume_video(video_id, 1.0);
  var videoA = document.getElementById(video_id);
  if (typeof videoA.currentTime === "number") {
    curr_vid = videoA.id;
    videoA.volume = 0.0;
    var vol = 0.0001;
    vResume = setInterval(function() {
        try {
          videoA.volume = vol;
        } catch (err) {}
        if (vol < volume) {
          vol *= 2;
        } else {
          clearInterval(vResume);
        }
      }, 66);
    videoA.play();
    if (processing !== 'undefined') {
      processing.noLoop();
    }
    videoA.addEventListener('ended', function(){
      this.volume = 0;
      this.currentTime = 0;
    }, false);
  }
};

function mute_video(video_id) {
  var vid;
  volume = 0.0;

  setTimeout(function() {
    try {
      vid = document.getElementById(video_id);
      vid.volume = 0.0;
    } catch(err) {}
  }, 1000);
}

function volume_video(video_id, vol) {
  var vid;
  volume = vol;

  try {
    vid = document.getElementById(video_id);
    vid.volume = volume;
  } catch(err) {}
}

var drawVideo = function (v,c,x,y,w,h) {
  for (var vi=0, vn=v.length; vi < vn; vi++) {
    
    if (typeof v[vi] != 'undefined') {
      if ((v[vi].readyState > 2) && (!v[vi].paused)) {
        try {
          c.drawImage(v[vi],x,y,w,h);
          vdrawing = true;
        } catch (err) {
          Debugger.log("Failed to draw " + v[vi].id);
        }
      } else if (!(vi > 0)) {
        c.clearRect(0, 0, w, h);
      }
    } else {
      c.fillStyle = "#000";
      c.fillRect(0, 0, w, h);
      vdrawing = false;
    }

  }
};

var vid1w=100, vid1h=100;

var set_aspect = function (rx, ry) {
  var cv;
  try {
    cv =   $("canvas")[0];
    vid1w = cv.height * rx/ry;
    vid1h = cv.height;
    Debugger.log("Aspect set to :"+ vid1w +" x "+ vid1h);
  } catch (e) {
    Debugger.log(e);
  }
  drawVideo = function drawVideo(v,c,x,y,w,h) {
    if (typeof v == 'undefined') {
      if (canvasApp.time < 358) {
        c.clearRect(x,y,w,h);
      }
      return;
    }

    if (!(v.paused || v.ended)) {
      try {
        var vx = (w/2 - vid1w/2);
        c.drawImage(v, vx, y, vid1w, vid1h);
      } catch (err) {
        Debugger.log("Failed to draw " + v.id);
      }
    }
  };
};

/* Function to link camera stream to video input */
var capVideo = function (vid_id) {

  var myVideo = document.getElementById(vid_id);

  if(navigator.getUserMedia) {
   navigator.getUserMedia("video", successCallback, errorCallback);
   return true;
  } else {
   Debugger.log("Your browser does not support Camera!");
  }
  
  function successCallback( stream ) {
   myVideo.src = stream;
  }
  
  function errorCallback( error ) {
   Debugger.log("Error: " + error.code + " !");
  }
  
   return false;
};

//]]> </script>

<!-- Simple Audio controls -->
<script language='javascript' type='text/javascript'> //<![CDATA[

var start_song = "invisible10";
var curr_song = "";

function check_playSong(song_id0) {

  //stop the other songs
  if(curr_song != song_id0)
    stopAll();

  //stop video
  try {
    if (typeof document.getElementById('vid1') === "object") {
    	mute_video('vid1');
    }
    if (typeof document.getElementById('vid2') === "object") {
      mute_video('vid2');
    }
  } catch (e) {}

  if (playSong(song_id0)) {
   return true;
  } else {
    alert("playSong did not work");
    return false;
  }
}

function stopAll() {
  stopSong(curr_song);
}

function stopSong(song_id1) {
  var songX;
  var song_lnk;

  try {
    songX = document.getElementById(song_id1);
    songX.currentTime = 0;
    songX.pause();

    song_lnk = document.getElementById(("lnk_"+song_id1));
    song_lnk.style.fontStyle = "normal";
  } catch(err) {}
}

function pauseSong() {
  var songX;

  try {
    songX = document.getElementById(curr_song);
    songX.pause();
  } catch(err) {}
}

function resumeSong() {
  var songX;
  
  try {
    songX = document.getElementById(curr_song);
    if (songX == null) {
      songX = document.getElementById('invisible01');
    }
    songX.play();
    if (songX.volume == 0) {
      for (var i = 10; i -= 1;) {
        setTimeout(raiseVolume, 30, songX);
      }
    }
  } catch(err) {
    //var msg = "Volume stuck at " + songX.volume + "";
  }
}

function raiseVolume(song) {
  var songX = song;
  if (typeof songX.volume === "number") {
    songX.volume = songX.volume + 0.1;
  }
}

function muteSong() {
  var songX;

  try {
    songX = document.getElementById(curr_song);
    songX.volume = 0;
  } catch(err) {}
}

function playSong(song_id2) {
  if(curr_song == song_id2) {
    var songA = document.getElementById(song_id2);
    if (typeof songA.currentTime === "number" ) {
      songA.currentTime = 0;
      songA.play();
      return true;
    }
    alert("curr_song could not start");
    return false;
  }
  else {
    curr_song = song_id2;
    var songA = document.getElementById(song_id2);
    if (typeof songA.play === "function") {
      songA.play();
      return true;
    }
    return false;
  }
}

function jogSong(song_id3, stime) {
  var songJ = document.getElementById(song_id3);
  ct = songJ.currentTime;
  try {
    songJ.currentTime = stime;
    curr_song = songJ.id;
  } catch (err) {
    songJ.currentTime = ct;
  }
}

//]]> </script>

<!-- Audio Player Control Scripts -->
<script type='text/javascript'> //<![CDATA[

function playerPause() {
  pauseSong();
  $("a","#player").attr({"href":"javascript:playerResume()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PLAY";
}

function playerResume() {
  resumeSong();
  $("a","#player").attr({"href":"javascript:playerPause()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PAUSE";
}

function playerPauseVid() {
  pause_video(curr_vid);
  pauseSong();
  $("a","#player").attr({"href":"javascript:playerResumeVid()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PLAY";
}

function playerResumeVid() {
  loop_video(curr_vid,'false');
  pauseSong();
  $("a","#player").attr({"href":"javascript:playerPauseVid()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PAUSE";
}

//]]> </script>

<!-- Scoller Scripts -->
<script type='text/javascript'> //<![CDATA[

var ie_period = "";

var post_scroller = {
    post_head : document.createElement("h1"),
    post_body : document.createElement("div"),
    link_next: "",
    link_prev: "",
    head_cache: "",
    post_span : "",
    t_margin: -240,
    s_margin: -56,
    s_indent: 644,
    s_delta: 3,
    s_period: 33,

    srollAux: function () {
      var emptyvar = "";
    },

    scrollInterval: function() {
      this.s_indent = this.s_indent;
    },

    pauseScroll: function() {
      this.t_margin = this.t_margin;
    },

    startScroll: function() {
    window.location.hash = "#header-canvas";
    this.startScroll = function () {
      if (processing !== 'undefined') {
        this.t_margin = 0;
        this.s_margin = 184;
      }
      this.post_head.children[0].href = "javascript:post_scroller.stopScroll()";
      var main_div = document.getElementById("main");
      var main_doc = document.getElementById("main");
      //main_doc.style.overflow = "hidden";
      var aspan = document.createElement("span");
      aspan.innerHTML = this.post_span;
      aspan.style.marginLeft = (post_scroller.s_indent+"px");
      aspan.style.fontWeight = "600";
      aspan.style.fontSize = "1em";
      aspan.style.position = "relative";
      this.post_head.appendChild(aspan);
      var m = post_scroller.t_margin-1;
      this.scrollInterval = setInterval(function() {
        aspan.style.marginLeft = (post_scroller.s_indent+"px");
        post_scroller.s_indent -= post_scroller.s_delta;
        if ((post_scroller.s_indent/12) < -post_scroller.post_span.length) {
          post_scroller.s_indent = 644;
        }
        if (m < post_scroller.s_margin-56) {
          m += 2;
          main_div.style.marginTop = m+"px";
          main_doc.style.height = (-32-m)*4+"px";
        }
        else {
          if (processing !== 'undefined') {
            main_div.style.marginTop = (post_scroller.s_margin-56)+"px";
            main_doc.style.height = "56px";
          } else {
            main_div.style.marginTop = post_scroller.s_margin+"px";
            main_doc.style.height = -post_scroller.s_margin+"px";
          }
        }
      }, post_scroller.s_period);
      if (typeof processing.mousePressed === "function") {
        processing.mousePressed();
      }
      if (typeof $('#vid1')[0] === "object") {
        loop_video('vid1','false');
        pauseSong();
        $("a","#player").attr({"href":"javascript:playerPauseVid()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PAUSE";
      }
    };
    this.startScroll();
    },

    stopScroll: function() {
      if (processing !== 'undefined') {
        this.t_margin = 0;
        this.s_margin = -56;
      }
      this.post_head.children[0].href = "javascript:post_scroller.startScroll()";
      var main_div = document.getElementById("main");
      var main_doc = document.getElementById("main");
      this.post_head.removeChild(this.post_head.children[1]);
      clearInterval(this.scrollInterval);
      var m = post_scroller.s_margin;
      this.pauseScroll = setInterval(function() {
        if (m > post_scroller.t_margin) {
          m -= 4;
          main_div.style.marginTop = m+"px";
          main_doc.style.height = -m+"px";
        }
        else {
          main_div.style.marginTop = post_scroller.t_margin+"px";
          main_doc.style.height = "";
          clearInterval(post_scroller.pauseScroll);
        }
      }, post_scroller.s_period/2);
      if (typeof processing.mousePressed === "function") {
        processing.mousePressed();
      }
      if (typeof $('#vid1')[0] === "object") {
        pause_video('vid1');
        resumeSong();
        $("a","#player").attr({"href":"javascript:playerPause()",
                         "style":"font-variant:inherit"})[0].innerHTML = "PAUSE";
      }
    },

    getDivText: function (adiv) {
      var span_text = "";

      if (typeof adiv.children.length != "number") {
        span_text = span_text + adiv.innerHTML;
        return span_text.replace(/(\r\n|\n|\r)/gm," ");
      }

      var spc = document.createElement('span');
      spc.innerHTML="&nbsp;/&nbsp;";
      var arep = document.createElement('span');
      
      for (var i = adiv.children.length; i > 0; i -= 1) {
        var child = adiv.children[(i-1)];
        switch (child.tagName) {
          case "SCRIPT":
            adiv.removeChild(child);
            break;
          case "script":
            adiv.removeChild(child);
            break;
          case "IMG":
            adiv.removeChild(child);
            break;
          case "img":
            adiv.removeChild(child);
            break;
          case "OBJECT":
            adiv.removeChild(child);
            break;
          case "object":
            adiv.removeChild(child);
            break;
          case "EMBED":
            adiv.removeChild(child);
            break;
          case "embed":
            adiv.removeChild(child);
            break;
          case "AUDIO":
            adiv.removeChild(child);
            break;
          case "audio":
            adiv.removeChild(child);
            break;
          case "VIDEO":
            adiv.removeChild(child);
            break;
          case "video":
            adiv.removeChild(child);
            break;
          case "BR":
            adiv.replaceChild(spc.cloneNode(true),child);
            break;
          case "br":
            adiv.replaceChild(spc.cloneNode(true),child);
            break;
          case "DIV":
            if (child.id === "stream") {
              adiv.removeChild(child);
            } else {
              var innerdiv = this.getDivText(child);
              span_text = "&nbsp;" + innerdiv + "&nbsp;" + span_text;
              adiv.removeChild(child);
            }
            break;
          case "div":
            if (child.id === "stream") {
              adiv.removeChild(child);
            } else {
              var innerdiv = this.getDivText(child);
              //console.log(innerdiv);
              span_text = "&nbsp;" + innerdiv + "&nbsp;" + span_text;
              adiv.removeChild(child);
            }
            break;
          case "H1":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "h1":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "H2":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "h2":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "H3":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "h3":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "H4":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "h4":
            //child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "H5":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "h5":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "P":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "p":
            child.appendChild(spc.cloneNode(true));
            var innerdiv = this.getDivText(child);
            //console.log(innerdiv);
            span_text = "&nbsp;" + innerdiv + span_text;
            adiv.removeChild(child);
            break;
          case "A":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FC3")[0],child);
            break;
          case "a":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FC3")[0],child);
            break;
          case "BLOCKQUOTE":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FF3")[0],child);
            break;
          case "blockquote":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FF3")[0],child);
            break;
          case "CODE":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FF3")[0],child);
            break;
          case "code":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FF3")[0],child);
            break;
          case "PRE":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FF3")[0],child);
            break;
          case "pre":
            var innerdiv = this.getDivText(child);
            arep.innerHTML = innerdiv;
            adiv.replaceChild($(arep.cloneNode(true)).css("color","#FF3")[0],child);
            break;
        }
      }
      if ( adiv.innerHTML != "" ) {
        span_text = span_text + adiv.innerHTML;
      }
      var nr = /\n\r/gm;
      var rn = /\r\n/gm;
      var r = /\r/gm;
      var n = /\n/gm;
      span_text = span_text.replace(nr,"&nbsp;");
      span_text = span_text.replace(rn,"&nbsp;");
      span_text = span_text.replace(r,"&nbsp;");
      span_text = span_text.replace(n,"&nbsp;");
      return span_text;
    },
    
    init: function (shead, sbody) {
      if (typeof shead != "string")
        shead = '.post-title, .entry-title';
      if (typeof sbody != "srting")
        sbody = '.post-body, .entry-content';
      this.post_head = $(shead)[0];
      this.post_body = $(sbody)[0].cloneNode(true);
      this.head_cache = this.post_head.innerHTML;
      this.post_head.style.whiteSpace = "nowrap";
      this.post_head.id = "scroll-head";
      if (typeof this.post_head.children[0] !== "object") {
        var temp_title = this.post_head.innerHTML;
        this.post_head.innerHTML = "";
        this.post_head.appendChild(document.createElement("a"));
        this.post_head.children[0].innerHTML = temp_title;
      }
      this.post_head.children[0].href = "javascript:post_scroller.startScroll()";
      this.post_span = this.getDivText(this.post_body);
      var post_nav = $("div#postnavlinks")[0];
      if (typeof ie_period === "number")
        this.s_period = ie_period;
      if (typeof $('.blog-pager-newer-link')[0] === "object") {
        this.link_next = ($('.blog-pager-newer-link')[0].href);
        var p = document.createElement("p");
        var a = document.createElement("a");
        p.setAttribute("class","menulinkleft");
        a.href = this.link_next;
        a.innerHTML = "&lt;";
        a.setAttribute("font-weight", "bold");
        a.setAttribute("font-size","1em");
        p.appendChild(a);
        $(post_nav).append(p);
      }
      if (typeof $('.blog-pager-older-link')[0] === "object") {
        this.link_prev = ($('.blog-pager-older-link')[0].href);
        var p = document.createElement("p");
        var a = document.createElement("a");
        p.setAttribute("class","menulinkright");
        a.href = this.link_prev;
        a.innerHTML = "&gt;";
        a.setAttribute("font-weight", "bold");
        a.setAttribute("font-size","1em");
        p.appendChild(a);
        $(post_nav).append(p);
      }
      return this;
    }
};

//]]> </script>

<script type='text/javascript'> //<![CDATA[
if (window.jstiming) window.jstiming.load.tick('headEnd');
//]]> </script>

</head>

<body>
  
  <div id='outer-wrapper'><div id='wrap2'>

    <!-- skip links for text browsers -->
    <span id='skiplinks' style='display:none;'>
      <a href='#main'>skip to main </a> |
      <a href='#sidebar'>skip to sidebar</a>
    </span>
 
    <div id='content-wrapper'>

      <div id='crosscol-wrapper' style='text-align:center'>
        <b:section class='crosscol' id='crosscol' showaddelement='no'/>
      </div>

      <div id='header-links'>
      <p class='menulinkleft'><a href='http://stylogicalmaps.blogspot.com/p/my-productions.html'>My Productions</a></p>
      <div id='player'><p><a href='#'>Play</a></p></div>
      <p class='menulinkright'>Podcast<a href='http://feeds.feedburner.com/stylogicalmaps'><img alt='rss' height='12' src='http://www.forerunner.com/images/feedblue48.png' width='12'/>RSS</a>|<a href='pcast://feeds.feedburner.com/stylogicalmaps'>iTunes</a></p>
     </div>
     <div class='clear'>&#160;</div>
     <div id='header-canvas'>
       <canvas height='240' id='can23' style='image-rendering:optimizespeed ! important;' width='384'/>
       <canvas height='432' id='cv' width='768'>
         <iframe frameborder='0' height='432' id='canvas_iframe' src='http://www.youtube.com/embed/tIDY-FYbBfE?autoplay=1' width='768'/>
       </canvas>
       <br/>
       <div id='postnavlinks'/>
     </div>
     <p class='menulinkleft' style='position:relative; margin-top: -2px;'><a href='http://love-demands.blogspot.com/'>love-demands.blogspot.com</a></p>
     <p class='menulinkright' style='position:relative; margin-top: -2px;'><a href='http://stylogicalmaps.blogspot.com'>stylogicalmaps.blogspot.com</a></p>

      <div id='main-wrapper'>
        <b:section class='main' id='main' showaddelement='no'>
<b:widget id='Blog1' locked='true' title='Blog Posts' type='Blog'>
<b:includable id='nextprev'>
  <div class='blog-pager' id='blog-pager'>
    <b:if cond='data:newerPageUrl'>
      <span id='blog-pager-newer-link'>
      <a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-newer-link&quot;' expr:title='data:newerPageTitle'><data:newerPageTitle/></a>
      </span>
    </b:if>

    <b:if cond='data:olderPageUrl'>
      <span id='blog-pager-older-link'>
      <a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-older-link&quot;' expr:title='data:olderPageTitle'><data:olderPageTitle/></a>
      </span>
    </b:if>

    <a class='home-link' expr:href='data:blog.homepageUrl'><data:homeMsg/></a>

    <b:if cond='data:mobileLinkUrl'>
      <div class='blog-mobile-link'>
        <a expr:href='data:mobileLinkUrl'><data:mobileLinkMsg/></a>
      </div>
    </b:if>

  </div>
  <div class='clear'/>
</b:includable>
<b:includable id='shareButtons' var='post'>
  <b:if cond='data:top.showEmailButton'><a class='goog-inline-block share-button sb-email' expr:href='data:post.sharePostUrl + &quot;&amp;target=email&quot;' expr:title='data:top.emailThisMsg' target='_blank'><span class='share-button-link-text'><data:top.emailThisMsg/></span></a></b:if><b:if cond='data:top.showBlogThisButton'><a class='goog-inline-block share-button sb-blog' expr:href='data:post.sharePostUrl + &quot;&amp;target=blog&quot;' expr:onclick='&quot;window.open(this.href, \&quot;_blank\&quot;, \&quot;height=270,width=475\&quot;); return false;&quot;' expr:title='data:top.blogThisMsg' target='_blank'><span class='share-button-link-text'><data:top.blogThisMsg/></span></a></b:if><b:if cond='data:top.showTwitterButton'><a class='goog-inline-block share-button sb-twitter' expr:href='data:post.sharePostUrl + &quot;&amp;target=twitter&quot;' expr:title='data:top.shareToTwitterMsg' target='_blank'><span class='share-button-link-text'><data:top.shareToTwitterMsg/></span></a></b:if><b:if cond='data:top.showFacebookButton'><a class='goog-inline-block share-button sb-facebook' expr:href='data:post.sharePostUrl + &quot;&amp;target=facebook&quot;' expr:onclick='&quot;window.open(this.href, \&quot;_blank\&quot;, \&quot;height=430,width=640\&quot;); return false;&quot;' expr:title='data:top.shareToFacebookMsg' target='_blank'><span class='share-button-link-text'><data:top.shareToFacebookMsg/></span></a></b:if><b:if cond='data:top.showOrkutButton'><a class='goog-inline-block share-button sb-orkut' expr:href='data:post.sharePostUrl + &quot;&amp;target=orkut&quot;' expr:title='data:top.shareToOrkutMsg' target='_blank'><span class='share-button-link-text'><data:top.shareToOrkutMsg/></span></a></b:if><b:if cond='data:top.showDummy'><div class='goog-inline-block dummy-container'><data:post.dummyTag/></div></b:if>
</b:includable>
<b:includable id='threaded_comment_js' var='post'>
  <script async='async' expr:src='data:post.commentSrc' type='text/javascript'/>

  <script type='text/javascript'>
    (function() {
      var items = <data:post.commentJso/>;
      var msgs = <data:post.commentMsgs/>;
      var config = <data:post.commentConfig/>;

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
</b:includable>
<b:includable id='backlinks' var='post'>
  <a name='links'/><h4><data:post.backlinksLabel/></h4>
  <b:if cond='data:post.numBacklinks != 0'>
    <dl class='comments-block' id='comments-block'>
      <b:loop values='data:post.backlinks' var='backlink'>
        <div class='collapsed-backlink backlink-control'>
          <dt class='comment-title'>
            <span class='backlink-toggle-zippy'>&#160;</span>
            <a expr:href='data:backlink.url' rel='nofollow'><data:backlink.title/></a>
            <b:include data='backlink' name='backlinkDeleteIcon'/>
          </dt>
          <dd class='comment-body collapseable'>
            <data:backlink.snippet/>
          </dd>
          <dd class='comment-footer collapseable'>
            <span class='comment-author'><data:post.authorLabel/> <data:backlink.author/></span>
            <span class='comment-timestamp'><data:post.timestampLabel/> <data:backlink.timestamp/></span>
          </dd>
        </div>
      </b:loop>
    </dl>
  </b:if>
  <p class='comment-footer'>
    <a class='comment-link' expr:href='data:post.createLinkUrl' expr:id='data:widget.instanceId + &quot;_backlinks-create-link&quot;' target='_blank'><data:post.createLinkLabel/></a>
  </p>
</b:includable>
<b:includable id='mobile-main' var='top'>
    <!-- posts -->
    <div class='blog-posts hfeed'>

      <b:include data='top' name='status-message'/>

      <b:if cond='data:blog.pageType == &quot;index&quot;'>
        <b:loop values='data:posts' var='post'>
          <b:include data='post' name='mobile-index-post'/>
        </b:loop>
      <b:else/>
        <b:loop values='data:posts' var='post'>
          <b:include data='post' name='mobile-post'/>
        </b:loop>
      </b:if>
    </div>

   <b:include name='mobile-nextprev'/>
</b:includable>
<b:includable id='post' var='post'>
  <div class='post hentry'>
    <a expr:name='data:post.id'/>
    <b:if cond='data:post.title'>
      <h3 class='post-title entry-title'>
      <b:if cond='data:post.link'>
        <a expr:href='data:post.link'><data:post.title/></a>
      <b:else/>
        <b:if cond='data:post.url'>
          <b:if cond='data:blog.url != data:post.url'>
            <a expr:href='data:post.url'><data:post.title/></a>
          <b:else/>
            <data:post.title/>
          </b:if>
        <b:else/>
          <data:post.title/>
        </b:if>
      </b:if>
      </h3>
    </b:if>

    <div class='post-header'>
    <div class='post-header-line-1'/>
    </div>

    <div class='post-body entry-content' expr:id='&quot;post-body-&quot; + data:post.id'>
      <data:post.body/>
      <div style='clear: both;'/> <!-- clear for photos floats -->
    </div>

    <b:if cond='data:post.hasJumpLink'>
      <div class='jump-link'>
        <a expr:href='data:post.url + &quot;#more&quot;' expr:title='data:post.title'><data:post.jumpText/></a>
      </div>
    </b:if>

    <div class='post-footer'>
    <div class='post-footer-line post-footer-line-1'><div class='post-share-buttons goog-inline-block'>
        <b:if cond='data:post.sharePostUrl'>
          <b:include data='post' name='shareButtons'/>
        </b:if>
      </div> <span class='post-backlinks post-comment-link'>
         <b:if cond='data:blog.pageType != &quot;item&quot;'>
           <b:if cond='data:blog.pageType != &quot;static_page&quot;'>
             <b:if cond='data:post.showBacklinks'>
               <a class='comment-link' expr:href='data:post.url + &quot;#links&quot;'><data:top.backlinkLabel/></a>
             </b:if>
           </b:if>
         </b:if>
       </span> <span class='post-comment-link'>
        <b:if cond='data:blog.pageType != &quot;item&quot;'>
          <b:if cond='data:blog.pageType != &quot;static_page&quot;'>
            <b:if cond='data:post.allowComments'>
              <a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'><b:if cond='data:post.numComments == 1'>1 <data:top.commentLabel/><b:else/><data:post.numComments/> <data:top.commentLabelPlural/></b:if></a>
            </b:if>
          </b:if>
        </b:if>
      </span> <span class='post-icons'>
        <!-- email post links -->
        <b:if cond='data:post.emailPostUrl'>
          <span class='item-action'>
          <a expr:href='data:post.emailPostUrl' expr:title='data:top.emailPostMsg'>
              <img alt='' class='icon-action' height='13' src='http://img1.blogblog.com/img/icon18_email.gif' width='18'/>
          </a>
          </span>
        </b:if>

        <!-- quickedit pencil -->
        <b:include data='post' name='postQuickEdit'/>
      </span> </div>

      <div class='post-footer-line post-footer-line-2'/>

      <div class='post-footer-line post-footer-line-3'/>
    </div>
  </div>
</b:includable>
<b:includable id='status-message'>
  <b:if cond='data:navMessage'>
  <div class='status-msg-wrap'>
    <div class='status-msg-body'>
      <data:navMessage/>
    </div>
    <div class='status-msg-border'>
      <div class='status-msg-bg'>
        <div class='status-msg-hidden'><data:navMessage/></div>
      </div>
    </div>
  </div>
  <div style='clear: both;'/>
  </b:if>
</b:includable>
<b:includable id='comment-form' var='post'>
  <div class='comment-form'>
    <a name='comment-form'/>
    <b:if cond='data:mobile'>
      <h4 id='comment-post-message'>
        <a expr:id='data:widget.instanceId + &quot;_comment-editor-toggle-link&quot;' href='javascript:void(0)'><data:postCommentMsg/></a></h4>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/>
    <b:else/>
      <h4 id='comment-post-message'><data:postCommentMsg/></h4>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/>
    </b:if>
    <data:post.friendConnectJs/>
    <data:post.cmtfpIframe/>
    <script type='text/javascript'>
      BLOG_CMT_createIframe(&#39;<data:post.appRpcRelayPath/>&#39;, &#39;<data:post.communityId/>&#39;);
    </script>
  </div>
</b:includable>
<b:includable id='threaded_comments' var='post'>
  <div class='comments' id='comments'>
    <a name='comments'/>
    <h4>
      <b:if cond='data:post.numComments == 1'>
        1 <data:commentLabel/>:
      <b:else/>
        <data:post.numComments/> <data:commentLabelPlural/>:
      </b:if>
    </h4>

    <div class='comments-content'>
      <b:if cond='data:post.embedCommentForm'>
        <b:include data='post' name='threaded_comment_js'/>
      </b:if>
      <div id='comment-holder'>
         <data:post.commentHtml/>
      </div>
    </div>

    <p class='comment-footer'>
      <b:if cond='data:post.allowNewComments'>
        <b:include data='post' name='threaded-comment-form'/>
      <b:else/>
        <data:post.noNewCommentsText/>
      </b:if>
    </p>

    <b:if cond='data:showCmtPopup'>
      <div id='comment-popup'>
        <iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'>
        </iframe>
      </div>
    </b:if>

    <div id='backlinks-container'>
    <div expr:id='data:widget.instanceId + &quot;_backlinks-container&quot;'>
       <b:if cond='data:post.showBacklinks'>
         <b:include data='post' name='backlinks'/>
       </b:if>
    </div>
    </div>
  </div>
</b:includable>
<b:includable id='backlinkDeleteIcon' var='backlink'>
  <span expr:class='&quot;item-control &quot; + data:backlink.adminClass'>
    <a expr:href='data:backlink.deleteUrl' expr:title='data:top.deleteBacklinkMsg'>
      <img src='//www.blogger.com/img/icon_delete13.gif'/>
    </a>
  </span>
</b:includable>
<b:includable id='mobile-nextprev'>
  <div class='blog-pager' id='blog-pager'>
    <b:if cond='data:newerPageUrl'>
      <div class='mobile-link-button' id='blog-pager-newer-link'>
      <a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-newer-link&quot;' expr:title='data:newerPageTitle'>&amp;lsaquo;</a>
      </div>
    </b:if>

    <b:if cond='data:olderPageUrl'>
      <div class='mobile-link-button' id='blog-pager-older-link'>
      <a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-older-link&quot;' expr:title='data:olderPageTitle'>&amp;rsaquo;</a>
      </div>
    </b:if>

    <div class='mobile-link-button' id='blog-pager-home-link'>
    <a class='home-link' expr:href='data:blog.homepageUrl'><data:homeMsg/></a>
    </div>

    <div class='mobile-desktop-link'>
      <a class='home-link' expr:href='data:desktopLinkUrl'><data:desktopLinkMsg/></a>
    </div>

  </div>
  <div class='clear'/>
</b:includable>
<b:includable id='mobile-post' var='post'>
  <div class='date-outer'>
    <b:if cond='data:post.dateHeader'>
      <h2 class='date-header'><span><data:post.dateHeader/></span></h2>
    </b:if>
    <div class='date-posts'>
      <div class='post-outer'>

        <div class='post hentry uncustomized-post-template' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
          <a expr:name='data:post.id'/>
          <b:if cond='data:post.title'>
            <h3 class='post-title entry-title' itemprop='name'>
              <b:if cond='data:post.link'>
                <a expr:href='data:post.link'><data:post.title/></a>
              <b:else/>
                <b:if cond='data:post.url'>
                  <b:if cond='data:blog.url != data:post.url'>
                    <a expr:href='data:post.url'><data:post.title/></a>
                  <b:else/>
                    <data:post.title/>
                  </b:if>
                <b:else/>
                  <data:post.title/>
                </b:if>
              </b:if>
            </h3>
          </b:if>

          <div class='post-header'>
            <div class='post-header-line-1'/>
          </div>

          <div class='post-body entry-content' expr:id='&quot;post-body-&quot; + data:post.id' itemprop='articleBody'>
            <data:post.body/>
            <div style='clear: both;'/> <!-- clear for photos floats -->
          </div>

          <div class='post-footer'>
            <div class='post-footer-line post-footer-line-1'>
              <span class='post-author vcard'>
                <b:if cond='data:top.showAuthor'>
                  <b:if cond='data:post.authorProfileUrl'>
                    <span class='fn'>
                      <a expr:href='data:post.authorProfileUrl' itemprop='author' rel='author' title='author profile'>
                        <data:post.author/>
                      </a>
                    </span>
                  <b:else/>
                    <span class='fn'><data:post.author/></span>
                  </b:if>
                </b:if>
              </span>

              <span class='post-timestamp'>
                <b:if cond='data:top.showTimestamp'>
                  <data:top.timestampLabel/>
                  <b:if cond='data:post.url'>
                    <a class='timestamp-link' expr:href='data:post.url' itemprop='url' rel='bookmark' title='permanent link'><abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'><data:post.timestamp/></abbr></a>
                  </b:if>
                </b:if>
              </span>

              <span class='post-comment-link'>
                <b:if cond='data:blog.pageType != &quot;item&quot;'>
                  <b:if cond='data:blog.pageType != &quot;static_page&quot;'>
                    <b:if cond='data:post.allowComments'>
                      <a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'><b:if cond='data:post.numComments == 1'>1 <data:top.commentLabel/><b:else/><data:post.numComments/> <data:top.commentLabelPlural/></b:if></a>
                    </b:if>
                  </b:if>
                </b:if>
              </span>
            </div>

            <div class='post-footer-line post-footer-line-2'>
              <b:if cond='data:top.showMobileShare'>
                <div class='mobile-link-button goog-inline-block' id='mobile-share-button'>
                  <a href='javascript:void(0);'><data:shareMsg/></a>
                </div>
              </b:if>
              <b:if cond='data:top.showDummy'>
                <div class='goog-inline-block dummy-container'><data:post.dummyTag/></div>
              </b:if>
            </div>

          </div>
        </div>

        <b:if cond='data:blog.pageType == &quot;static_page&quot;'>
          <b:if cond='data:post.showThreadedComments'>
            <b:include data='post' name='threaded_comments'/>
          <b:else/>
            <b:include data='post' name='comments'/>
          </b:if>
        </b:if>
        <b:if cond='data:blog.pageType == &quot;item&quot;'>
          <b:if cond='data:post.showThreadedComments'>
            <b:include data='post' name='threaded_comments'/>
          <b:else/>
            <b:include data='post' name='comments'/>
          </b:if>
        </b:if>
      </div>
    </div>
  </div>
</b:includable>
<b:includable id='postQuickEdit' var='post'>
  <b:if cond='data:post.editUrl'>
    <span expr:class='&quot;item-control &quot; + data:post.adminClass'>
      <a expr:href='data:post.editUrl' expr:title='data:top.editPostMsg'>
        <img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
      </a>
    </span>
  </b:if>
</b:includable>
<b:includable id='main' var='top'>
  <b:if cond='data:mobile == &quot;false&quot;'>

    <!-- posts -->
    <div class='blog-posts hfeed'>

      <b:include data='top' name='status-message'/>

      <data:defaultAdStart/>
      <b:loop values='data:posts' var='post'>
        <b:if cond='data:post.isDateStart'>
          <b:if cond='data:post.isFirstPost == &quot;false&quot;'>
            &lt;/div&gt;&lt;/div&gt;
          </b:if>
        </b:if>
        <b:if cond='data:post.isDateStart'>
          &lt;div class=&quot;date-outer&quot;&gt;
        </b:if>
        <b:if cond='data:post.dateHeader'>
          <h2 class='date-header'><span><data:post.dateHeader/></span></h2>
        </b:if>
        <b:if cond='data:post.isDateStart'>
          &lt;div class=&quot;date-posts&quot;&gt;
        </b:if>
        <div class='post-outer'>
        <b:include data='post' name='post'/>
        <b:if cond='data:blog.pageType == &quot;static_page&quot;'>
          <b:if cond='data:post.showThreadedComments'>
            <b:include data='post' name='threaded_comments'/>
          <b:else/>
            <b:include data='post' name='comments'/>
          </b:if>
        </b:if>
        <b:if cond='data:blog.pageType == &quot;item&quot;'>
          <b:if cond='data:post.showThreadedComments'>
            <b:include data='post' name='threaded_comments'/>
          <b:else/>
            <b:include data='post' name='comments'/>
          </b:if>
        </b:if>
        </div>
        <b:if cond='data:post.includeAd'>
          <b:if cond='data:post.isFirstPost'>
            <data:defaultAdEnd/>
          <b:else/>
            <data:adEnd/>
          </b:if>
          <div class='inline-ad'>
            <data:adCode/>
          </div>
          <data:adStart/>
        </b:if>
      </b:loop>
      <b:if cond='data:numPosts != 0'>
        &lt;/div&gt;&lt;/div&gt;
      </b:if>
      <data:adEnd/>
    </div>

    <!-- navigation -->
    <b:include name='nextprev'/>

    <!-- feed links -->
    <b:include name='feedLinks'/>

    <b:if cond='data:top.showStars'>
      <script src='//www.google.com/jsapi' type='text/javascript'/>
      <script type='text/javascript'>
        google.load(&quot;annotations&quot;, &quot;1&quot;, {&quot;locale&quot;: &quot;<data:top.languageCode/>&quot;});
        function initialize() {
          google.annotations.setApplicationId(<data:top.blogspotReviews/>);
          google.annotations.createAll();
          google.annotations.fetch();
        }
        google.setOnLoadCallback(initialize);
      </script>
    </b:if>

  <b:else/>
    <b:include name='mobile-main'/>
  </b:if>

  <b:if cond='data:top.showDummy'>
    <data:top.dummyBootstrap/>
  </b:if>

</b:includable>
<b:includable id='commentDeleteIcon' var='comment'>
  <span expr:class='&quot;item-control &quot; + data:comment.adminClass'>
    <b:if cond='data:showCmtPopup'>
      <div class='goog-toggle-button'>
        <div class='goog-inline-block comment-action-icon'/>
      </div>
    <b:else/>
      <a class='comment-delete' expr:href='data:comment.deleteUrl' expr:title='data:top.deleteCommentMsg'>
        <img src='//www.blogger.com/img/icon_delete13.gif'/>
      </a>
    </b:if>
  </span>
</b:includable>
<b:includable id='feedLinks'>
  <b:if cond='data:blog.pageType != &quot;item&quot;'> <!-- Blog feed links -->
    <b:if cond='data:feedLinks'>
      <div class='blog-feeds'>
        <b:include data='feedLinks' name='feedLinksBody'/>
      </div>
    </b:if>

    <b:else/> <!--Post feed links -->
    <div class='post-feeds'>
      <b:loop values='data:posts' var='post'>
        <b:if cond='data:post.allowComments'>
          <b:if cond='data:post.feedLinks'>
            <b:include data='post.feedLinks' name='feedLinksBody'/>
          </b:if>
        </b:if>
      </b:loop>
    </div>
  </b:if>
</b:includable>
<b:includable id='threaded-comment-form' var='post'>
  <div class='comment-form'>
    <a name='comment-form'/>
    <b:if cond='data:mobile'>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/>
    <b:else/>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/>
    </b:if>
    <data:post.friendConnectJs/>
    <data:post.cmtfpIframe/>
    <script type='text/javascript'>
      BLOG_CMT_createIframe(&#39;<data:post.appRpcRelayPath/>&#39;, &#39;<data:post.communityId/>&#39;);
    </script>
  </div>
</b:includable>
<b:includable id='mobile-index-post' var='post'>
  <div class='mobile-date-outer date-outer'>
    <b:if cond='data:post.dateHeader'>
      <div class='date-header'>
        <span><data:post.dateHeader/></span>
      </div>
    </b:if>

    <div class='mobile-post-outer'>
      <a expr:href='data:post.url'>
        <h3 class='mobile-index-title entry-title' itemprop='name'>
          <data:post.title/>
        </h3>

        <div class='mobile-index-arrow'>&amp;rsaquo;</div>

        <div class='mobile-index-contents'>
          <b:if cond='data:post.thumbnailUrl'>
            <div class='mobile-index-thumbnail'>
              <div class='Image'>
                <img expr:src='data:post.thumbnailUrl'/>
              </div>
            </div>
          </b:if>

          <div class='post-body'>
            <b:if cond='data:post.snippet'><data:post.snippet/></b:if>
          </div>
        </div>

        <div style='clear: both;'/>
      </a>

      <div class='mobile-index-comment'>
        <b:if cond='data:blog.pageType != &quot;static_page&quot;'>
          <b:if cond='data:post.allowComments'>
            <b:if cond='data:post.numComments != 0'>
              <a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'><b:if cond='data:post.numComments == 1'>1 <data:top.commentLabel/><b:else/><data:post.numComments/> <data:top.commentLabelPlural/></b:if></a>
            </b:if>
          </b:if>
        </b:if>
      </div>
    </div>
  </div>
</b:includable>
<b:includable id='feedLinksBody' var='links'>
  <div class='feed-links'>
  <data:feedLinksMsg/>
  <b:loop values='data:links' var='f'>
     <a class='feed-link' expr:href='data:f.url' expr:type='data:f.mimeType' target='_blank'><data:f.name/> (<data:f.feedType/>)</a>
  </b:loop>
  </div>
</b:includable>
<b:includable id='comments' var='post'>
  <div class='comments' id='comments'>
    <a name='comments'/>
    <b:if cond='data:post.allowComments'>
      <h4>
        <b:if cond='data:post.numComments == 1'>
          1 <data:commentLabel/>:
        <b:else/>
          <data:post.numComments/> <data:commentLabelPlural/>:
        </b:if>
      </h4>

      <b:if cond='data:post.commentPagingRequired'>
        <span class='paging-control-container'>
          <b:if cond='data:post.hasOlderLinks'>
            <a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'><data:post.oldestLinkText/></a>
              &#160;
            <a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'><data:post.olderLinkText/></a>
              &#160;
          </b:if>

          <data:post.commentRangeText/>

          <b:if cond='data:post.hasNewerLinks'>
            &#160;
            <a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'><data:post.newerLinkText/></a>
            &#160;
            <a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'><data:post.newestLinkText/></a>
          </b:if>
        </span>
      </b:if>

      <div expr:id='data:widget.instanceId + &quot;_comments-block-wrapper&quot;'>
        <dl expr:class='data:post.avatarIndentClass' id='comments-block'>
          <b:loop values='data:post.comments' var='comment'>
            <dt expr:class='&quot;comment-author &quot; + data:comment.authorClass' expr:id='data:comment.anchorName'>
              <b:if cond='data:comment.favicon'>
                <img expr:src='data:comment.favicon' height='16px' style='margin-bottom:-2px;' width='16px'/>
              </b:if>
              <a expr:name='data:comment.anchorName'/>
              <b:if cond='data:blog.enabledCommentProfileImages'>
                <data:comment.authorAvatarImage/>
              </b:if>
              <b:if cond='data:comment.authorUrl'>
                <a expr:href='data:comment.authorUrl' rel='nofollow'><data:comment.author/></a>
              <b:else/>
                <data:comment.author/>
              </b:if>
              <data:commentPostedByMsg/>
            </dt>
            <dd class='comment-body' expr:id='data:widget.instanceId + data:comment.cmtBodyIdPostfix'>
              <b:if cond='data:comment.isDeleted'>
                <span class='deleted-comment'><data:comment.body/></span>
              <b:else/>
                <p>
                  <data:comment.body/>
                </p>
              </b:if>
            </dd>
            <dd class='comment-footer'>
              <span class='comment-timestamp'>
                <a expr:href='data:comment.url' title='comment permalink'>
                  <data:comment.timestamp/>
                </a>
                <b:include data='comment' name='commentDeleteIcon'/>
              </span>
            </dd>
          </b:loop>
        </dl>
      </div>

      <b:if cond='data:post.commentPagingRequired'>
        <span class='paging-control-container'>
          <a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'>
            <data:post.oldestLinkText/>
          </a>
          <a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'>
            <data:post.olderLinkText/>
          </a>
          &#160;
          <data:post.commentRangeText/>
          &#160;
          <a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'>
            <data:post.newerLinkText/>
          </a>
          <a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'>
            <data:post.newestLinkText/>
          </a>
        </span>
      </b:if>

      <p class='comment-footer'>
        <b:if cond='data:post.embedCommentForm'>
          <b:if cond='data:post.allowNewComments'>
            <b:include data='post' name='comment-form'/>
          <b:else/>
            <data:post.noNewCommentsText/>
          </b:if>
        <b:else/>
          <b:if cond='data:post.allowComments'>
            <a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'><data:postCommentMsg/></a>
          </b:if>
        </b:if>

      </p>
    </b:if>
    <b:if cond='data:showCmtPopup'>
      <div id='comment-popup'>
        <iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'>
        </iframe>
      </div>
    </b:if>

    <div id='backlinks-container'>
    <div expr:id='data:widget.instanceId + &quot;_backlinks-container&quot;'>
       <b:if cond='data:post.showBacklinks'>
         <b:include data='post' name='backlinks'/>
       </b:if>
    </div>
    </div>
  </div>
</b:includable>
</b:widget>
<b:widget id='HTML1' locked='false' title='' type='HTML'>
<b:includable id='main'>
  <!-- only display title if it's non-empty -->
  <b:if cond='data:title != &quot;&quot;'>
    <h2 class='title'><data:title/></h2>
  </b:if>
  <div class='widget-content'>
    <data:content/>
  </div>

  <b:include name='quickedit'/>
</b:includable>
</b:widget>
</b:section>
 </div>

      <!-- spacer for skins that want sidebar and main to be the same height-->
      <div class='clear'>&#160;</div>

    </div> <!-- end content-wrapper -->

    <div id='footer-wrapper'>
      <b:section class='footer' id='footer'>
<b:widget id='HTML2' locked='false' title='' type='HTML'>
<b:includable id='main'>
  <!-- only display title if it's non-empty -->
  <b:if cond='data:title != &quot;&quot;'>
    <h2 class='title'><data:title/></h2>
  </b:if>
  <div class='widget-content'>
    <data:content/>
  </div>

  <b:include name='quickedit'/>
</b:includable>
</b:widget>
</b:section>
    </div>

  </div></div> <!-- end outer-wrapper -->

<p id='license' style='text-align:center;'>Published 2009-2020 Creative Commons Attribution-NonCommercial-ShareAlike 2.5 Canada <a href='http://creativecommons.org/licenses/by-nc-sa/2.5/deed.en' target='_blank'>(CC BY-NC-SA 2.5)</a></p>
</body>

</html>
